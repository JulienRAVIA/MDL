-- --------------------------------------------------------
-- Hôte :                        localhost
-- Version du serveur:           5.7.19 - MySQL Community Server (GPL)
-- SE du serveur:                Win64
-- HeidiSQL Version:             9.5.0.5196
-- --------------------------------------------------------

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET NAMES utf8 */;
/*!50503 SET NAMES utf8mb4 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;


-- Export de la structure de la base pour mdl
DROP DATABASE IF EXISTS `mdl`;
CREATE DATABASE `mdl`;
USE `mdl`;

-- Export de la structure de la table mdl. atelier
CREATE TABLE IF NOT EXISTS `atelier` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `libelle` varchar(50) CHARACTER SET utf8 NOT NULL,
  `nbplacesmaxi` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=latin1;

-- Export de données de la table mdl.atelier : ~6 rows (environ)
/*!40000 ALTER TABLE `atelier` ENABLE KEYS */;
INSERT INTO `atelier` (`id`, `libelle`, `nbplacesmaxi`) VALUES
	(1, 'Le club et son projet', 60),
	(2, 'Le fonctionnement du club', 80),
	(3, 'Les outils à disposition et remis aux clubs', 110),
	(4, 'Observatoire des métiers de l\'escrime', 60),
	(5, 'I.F.F.E', 70),
	(6, 'Développement durable', 60);
/*!40000 ALTER TABLE `atelier` ENABLE KEYS */;

CREATE TABLE IF NOT EXISTS `typeavis` (
  `id` varchar(2) NOT NULL,
  `libelle` varchar(50) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- Export de données de la table mdl.typeavis : ~4 rows (environ)
/*!40000 ALTER TABLE `typeavis` ENABLE KEYS */;
INSERT INTO `typeavis` (`id`, `libelle`) VALUES
	('MS', 'Moyennement satisfait'),
	('PS', 'Pas du tout satisfait'),
	('SS', 'Satisfait'),
	('TS', 'Très satisfait');

-- Export de la structure de la table mdl. avis
CREATE TABLE IF NOT EXISTS `avis` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `atelier` int(11) NOT NULL,
  `type` varchar(2) NOT NULL,
  `date` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `FK_avis_atelier` (`atelier`),
  KEY `FK_avis_typeavis` (`type`),
  CONSTRAINT `FK_avis_atelier` FOREIGN KEY (`atelier`) REFERENCES `atelier` (`id`) ON DELETE CASCADE,
  CONSTRAINT `FK_avis_typeavis` FOREIGN KEY (`type`) REFERENCES `typeavis` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=144 DEFAULT CHARSET=utf8;

-- Export de données de la table mdl.avis : ~98 rows (environ)

/*!40000 ALTER TABLE `avis` ENABLE KEYS */;

INSERT INTO `avis` (`id`, `atelier`, `type`, `date`) VALUES
	(1, 1, 'PS', '2018-05-07 23:42:27'),
	(2, 1, 'TS', '2018-05-07 23:45:00'),
	(3, 1, 'MS', '2018-05-07 23:45:01'),
	(4, 1, 'TS', '2018-05-08 00:05:50'),
	(5, 2, 'TS', '2018-05-08 00:25:37'),
	(6, 2, 'PS', '2018-05-08 00:25:38'),
	(7, 2, 'PS', '2018-05-08 00:25:39'),
	(8, 2, 'MS', '2018-05-08 00:25:40'),
	(9, 2, 'PS', '2018-05-08 00:25:44'),
	(10, 1, 'TS', '2018-05-08 00:26:29'),
	(11, 1, 'SS', '2018-05-08 00:27:03'),
	(12, 2, 'TS', '2018-05-08 00:28:56'),
	(13, 1, 'TS', '2018-05-08 00:29:16'),
	(14, 1, 'PS', '2018-05-08 00:29:17'),
	(15, 1, 'MS', '2018-05-08 00:29:18'),
	(16, 2, 'SS', '2018-05-08 00:31:53'),
	(17, 2, 'PS', '2018-05-08 00:31:56'),
	(18, 2, 'MS', '2018-05-08 00:31:58'),
	(19, 2, 'TS', '2018-05-08 00:32:12'),
	(20, 2, 'SS', '2018-05-08 00:32:14'),
	(21, 1, 'TS', '2018-05-08 00:37:24'),
	(22, 1, 'PS', '2018-05-08 00:57:11'),
	(23, 1, 'MS', '2018-05-08 00:57:12'),
	(24, 1, 'TS', '2018-05-08 00:57:13'),
	(25, 1, 'SS', '2018-05-08 01:00:22'),
	(26, 1, 'PS', '2018-05-08 01:00:23'),
	(27, 1, 'MS', '2018-05-08 01:00:24'),
	(28, 1, 'PS', '2018-05-08 01:02:54'),
	(29, 1, 'MS', '2018-05-08 01:02:55'),
	(30, 1, 'SS', '2018-05-08 01:02:57'),
	(31, 1, 'PS', '2018-05-08 01:02:58'),
	(32, 1, 'MS', '2018-05-08 01:02:59'),
	(33, 1, 'TS', '2018-05-08 01:03:21'),
	(34, 1, 'PS', '2018-05-08 01:03:23'),
	(35, 1, 'MS', '2018-05-08 01:03:25'),
	(36, 1, 'SS', '2018-05-08 01:03:29'),
	(37, 1, 'TS', '2018-05-08 01:03:30'),
	(38, 1, 'PS', '2018-05-08 01:03:32'),
	(39, 1, 'MS', '2018-05-08 01:03:33'),
	(40, 1, 'TS', '2018-05-08 01:03:40'),
	(41, 1, 'SS', '2018-05-08 01:04:22'),
	(42, 1, 'PS', '2018-05-08 01:04:24'),
	(43, 1, 'MS', '2018-05-08 01:04:26'),
	(44, 1, 'PS', '2018-05-08 01:05:55'),
	(45, 1, 'MS', '2018-05-08 01:05:56'),
	(46, 1, 'TS', '2018-05-08 01:06:53'),
	(47, 1, 'SS', '2018-05-08 01:06:54'),
	(48, 1, 'PS', '2018-05-08 01:06:55'),
	(49, 1, 'MS', '2018-05-08 01:06:56'),
	(50, 1, 'TS', '2018-05-08 01:09:00'),
	(51, 1, 'SS', '2018-05-08 01:09:00'),
	(52, 1, 'PS', '2018-05-08 01:09:01'),
	(53, 1, 'MS', '2018-05-08 01:09:03'),
	(54, 1, 'PS', '2018-05-08 01:09:05'),
	(55, 1, 'MS', '2018-05-08 01:09:06'),
	(56, 1, 'MS', '2018-05-08 01:09:48'),
	(57, 1, 'PS', '2018-05-08 01:09:49'),
	(58, 1, 'SS', '2018-05-08 01:09:50'),
	(59, 1, 'TS', '2018-05-08 01:09:54'),
	(60, 1, 'SS', '2018-05-08 01:09:56'),
	(61, 1, 'TS', '2018-05-08 01:09:59'),
	(62, 1, 'TS', '2018-05-08 01:10:02'),
	(63, 1, 'SS', '2018-05-08 01:10:02'),
	(64, 1, 'PS', '2018-05-08 01:10:03'),
	(65, 1, 'MS', '2018-05-08 01:10:04'),
	(66, 1, 'TS', '2018-05-08 01:10:09'),
	(67, 1, 'TS', '2018-05-08 01:10:12'),
	(68, 1, 'SS', '2018-05-08 01:10:14'),
	(69, 1, 'PS', '2018-05-08 01:10:14'),
	(70, 1, 'MS', '2018-05-08 01:10:15'),
	(71, 1, 'TS', '2018-05-08 01:10:54'),
	(72, 1, 'SS', '2018-05-08 01:10:57'),
	(73, 1, 'TS', '2018-05-08 01:11:02'),
	(74, 1, 'TS', '2018-05-08 01:11:05'),
	(75, 1, 'PS', '2018-05-08 01:11:06'),
	(76, 1, 'MS', '2018-05-08 01:11:07'),
	(77, 1, 'TS', '2018-05-08 01:11:38'),
	(78, 1, 'SS', '2018-05-08 01:11:41'),
	(79, 1, 'PS', '2018-05-08 01:11:43'),
	(80, 1, 'TS', '2018-05-08 01:12:11'),
	(81, 5, 'TS', '2018-05-08 01:12:14'),
	(82, 5, 'SS', '2018-05-08 01:12:15'),
	(83, 5, 'PS', '2018-05-08 01:12:16'),
	(84, 5, 'MS', '2018-05-08 01:12:16'),
	(85, 1, 'SS', '2018-05-08 01:13:44'),
	(86, 1, 'MS', '2018-05-08 01:13:45'),
	(87, 1, 'PS', '2018-05-08 01:13:46'),
	(88, 1, 'TS', '2018-05-08 01:13:47'),
	(89, 4, 'TS', '2018-05-08 01:14:06'),
	(90, 4, 'SS', '2018-05-08 01:14:08'),
	(91, 4, 'PS', '2018-05-08 01:14:09'),
	(92, 4, 'MS', '2018-05-08 01:14:09'),
	(93, 3, 'TS', '2018-05-08 01:16:14'),
	(94, 3, 'SS', '2018-05-08 01:16:14'),
	(95, 3, 'MS', '2018-05-08 01:16:21'),
	(96, 1, 'PS', '2018-05-08 13:28:20'),
	(97, 1, 'SS', '2018-05-08 13:28:21'),
	(98, 1, 'MS', '2018-05-08 13:28:23'),
	(99, 5, 'TS', '2018-05-08 13:44:43'),
	(100, 5, 'PS', '2018-05-08 13:44:45'),
	(101, 5, 'PS', '2018-05-08 13:44:46'),
	(102, 5, 'MS', '2018-05-08 13:44:47'),
	(103, 1, 'TS', '2018-05-08 13:44:51'),
	(104, 6, 'PS', '2018-05-08 14:04:52'),
	(105, 6, 'SS', '2018-05-08 14:04:54'),
	(106, 6, 'TS', '2018-05-08 14:04:55'),
	(107, 1, 'TS', '2018-05-08 14:05:07'),
	(108, 1, 'SS', '2018-05-08 14:05:08'),
	(109, 1, 'PS', '2018-05-08 14:05:09'),
	(110, 1, 'SS', '2018-05-08 14:05:10'),
	(111, 1, 'TS', '2018-05-08 14:05:12'),
	(112, 1, 'MS', '2018-05-08 14:05:13'),
	(113, 6, 'TS', '2018-05-08 14:09:47'),
	(114, 6, 'PS', '2018-05-08 14:09:48'),
	(115, 6, 'MS', '2018-05-08 14:09:49'),
	(116, 6, 'SS', '2018-05-08 14:09:50'),
	(117, 6, 'PS', '2018-05-08 14:09:51'),
	(118, 1, 'TS', '2018-05-08 14:10:08'),
	(119, 1, 'PS', '2018-05-08 14:10:09'),
	(120, 1, 'MS', '2018-05-08 14:10:10'),
	(121, 4, 'TS', '2018-05-08 16:49:33'),
	(122, 4, 'PS', '2018-05-08 16:49:34'),
	(123, 1, 'TS', '2018-05-08 16:50:00'),
	(124, 3, 'PS', '2018-05-08 17:03:17'),
	(125, 3, 'MS', '2018-05-08 17:03:19'),
	(126, 3, 'TS', '2018-05-08 17:03:20'),
	(127, 2, 'TS', '2018-05-08 17:03:24'),
	(128, 1, 'PS', '2018-05-08 17:08:19'),
	(129, 1, 'SS', '2018-05-08 17:08:20'),
	(130, 6, 'MS', '2018-05-08 17:38:29'),
	(131, 6, 'PS', '2018-05-08 17:38:30'),
	(132, 6, 'SS', '2018-05-08 17:38:31'),
	(133, 1, 'TS', '2018-05-08 17:38:33'),
	(134, 1, 'SS', '2018-05-08 17:38:34'),
	(135, 1, 'PS', '2018-05-08 17:38:35'),
	(136, 1, 'MS', '2018-05-08 17:38:36'),
	(137, 4, 'TS', '2018-05-08 17:38:49'),
	(138, 4, 'PS', '2018-05-08 17:38:51'),
	(139, 1, 'PS', '2018-05-08 17:40:59'),
	(140, 1, 'PS', '2018-05-08 18:06:13'),
	(141, 1, 'MS', '2018-05-08 18:06:14'),
	(142, 1, 'SS', '2018-05-08 18:06:15'),
	(143, 1, 'MS', '2018-05-08 18:06:16');


-- Export de la structure de la table mdl. typeavis


/*!40101 SET SQL_MODE=IFNULL(@OLD_SQL_MODE, '') */;
/*!40014 SET FOREIGN_KEY_CHECKS=IF(@OLD_FOREIGN_KEY_CHECKS IS NULL, 1, @OLD_FOREIGN_KEY_CHECKS) */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
